class JsonFileReader{constructor(e){this.filePath=e,this.data=null}async read(){try{const e=await fetch(this.filePath);this.data=await e.json()}catch(e){console.error("Error loading JSON file:",e)}}get_levels(){return this.data.levels}get_faculties(){return this.data.faculties}get_departments(){return this.data.departments}get_programs(){return this.data.programs}get_faculties_by_level(e){return this.get_faculties().filter((t=>t.level_id==e))}get_departments_by_faculty(e){return this.get_departments().filter((t=>t.faculty_id==e))}get_programs_by_department(e){return this.get_programs().filter((t=>t.department_id==e))}get_programs_by_faculty(e){return this.get_programs().filter((t=>t.id==e))}}const jsonReader=new JsonFileReader("/database/degrees.json");function append_data(e,t,a){t.innerHTML="<option selected>Loading...</option>";let r=`<option selected>${a}</option>`;for(const t of e)r+=`<option value="${parseInt(t.id)}">${t.name}</option>`;t.innerHTML=r}jsonReader.read(),window.onload=function(){document.getElementById("program-search-form").length&&setTimeout((()=>{let e=document.getElementById("levels"),t=document.getElementById("faculties"),a=document.getElementById("departments"),r=document.getElementById("programs");append_data(jsonReader.get_levels(),e,"Levels");let n=document.querySelectorAll(".autocomplete-wizard");for(const e of n)e.addEventListener("change",(e=>{const n=e.target;let s=n.id,o=n.value;if("levels"==s){append_data(jsonReader.get_faculties_by_level(o),t,"Faculties")}if("faculties"==s){append_data(jsonReader.get_departments_by_faculty(o),a,"Departments")}if("departments"==s){append_data(jsonReader.get_programs_by_department(o),r,"Programs")}}))}),1e3)};
//# sourceMappingURL=main.js.map